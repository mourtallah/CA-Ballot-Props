X2[X2$number==64]
## Prop 64
X2[X2$number=="64"]
## Prop 64
X2$number
## Prop 64
X2[X2$number==51]
## Prop 64
X2[X2$number==51,]
## Prop 64
X2[X2$number==64,]
## Prop 64
X2[X2$number==67,]
## Prop 64
prop67 = X2[X2$number==67,]
ggplot(prop67, aes(size,zip)) + geom_point()
X2 = data_frame("amount"=X$amount, "zip"=X$contributor_zip, "prop"=X$prop_name, "number"=X$ccdc_prop_id-19, "founder"=X$contributor_is_self_employed)
X2 = data_frame("amount"=X$amount, "zip"=X$contributor_zip, "prop"=X$prop_name, "number"=X$ccdc_prop_id-19, "founder"=X$contributor_is_self_employed, "job"=X$contributor_occupation)
X2=X2 %>% mutate("size"=abs(amount))
# There are 17 unique propositions
unique_props <- sort(unique(committees$prop_name))
# number of unique contributions
unique_contributions <- Xfull %>% summarize(N=n()) %>% unlist()
# average contribution per Prop
avg.contr.per.prop = unique_contributions/length(unique_props)
# average amount per prop
avg.amount.per.prop = sum(X$amount, na.rm = T)/unique_contributions
#average size per prop
avg.size.per.prop = sum(X2$size, na.rm = T)/unique_contribut### data processing ions
# average amount per prop per contributor
avg.dollar.per.contr=avg.amount.per.prop/avg.contr.per.prop
## Prop 64
prop67 = X2[X2$number==67,]
prop67
prop67 %>% group_by(founder=="FALSE")
prop67 %>% group_by(founder)
prop67 %>% group_by(founder) %>% mean(size)
prop67 %>% group_by(founder) %>% mean(size, na.rm = T)
prop67 %>% group_by(founder) %>% mean()
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size))
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=3))
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T))
prop67 %>% group_by(founder) %>% summarize("mean_size"=sum(size, na.rm=T))
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size))
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size, na.rm=T))
## Prop 64
prop67 = X2[X2$number==67,]
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size, na.rm=T))
## Missing Data
X2 %>% summarize(mean(is.na()))
## Missing Data
is.na(X2)
## Missing Data
apply(X2, 2, is.na())
## Missing Data
apply(X2, 2, is.na)
## Missing Data
table(apply(X2, 2, is.na))
## Missing Data
table(lapply(X2, 2, is.na))
## Missing Data
table(sapply(X2, 2, is.na))
## Missing Data
colMeans(X2)
## Missing Data
colMeans(is.na(X2))
which(is.na(X2))
indexsizena which(is.na(X2$amount))
indexsizena = which(is.na(X2$amount))
X2[indexsizena]
X2[indexsizena,]
X2[indexsizena,]
## X3 : amount censored
X3 = X2[indexsizena,]
X3 %>% group_by(job)
X3 %>% group_by(job) %>% sum()
X3 %>% group_by(job) %>% summarise(sum())
X3 %>% group_by(job) %>% summarise(sum()) %>% sort()
X3 %>% group_by(job) %>% summarise(n())
dim(X3)
X3 %>% group_by(number) %>% summarise(n())
X3
X3 %>% group_by(number) %>% summarise(n())
X3 %>% group_by(number) %>% summarise(n())  # 14 obs, 14 of which are for prop 63
prop63 = X2[X2$number==63,]
prop63 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size, na.rm=T))
prop63
## Missing Data
colMeans(is.na(X2))
## Missing Data
colMeans(is.na(X2))  %>% round(2)
## Missing Data
colMeans(is.na(X2))  %>% round(5)
## Missing Data
colMeans(is.na(X2))  %>% round(5) * 100
X11()
X
names(X)
## X2 : modelling subset
X2 = data_frame("amount"=X$amount, "zip"=X$contributor_zip, "prop"=X$prop_name, "number"=X$ccdc_prop_id-19, "founder"=X$contributor_is_self_employed, "job"=X$contributor_occupation, "stance"=X$committee_position)
X2=X2 %>% mutate("size"=abs(amount))
## Missing Data
colMeans(is.na(X2))  %>% round(5) * 100
indexsizena = which(is.na(X2$amount))
# X3 : amount censored.
X3 = X2[indexsizena,]
X3 %>% group_by(job) %>% summarise(n()) # 16 obs, 10 of which are retired
X3 %>% group_by(number) %>% summarise(n())  # 14 obs, 14 of which are for prop 63. These are firearms amounts, why are so many of these missing?
# There are 17 unique propositions
unique_props <- sort(unique(committees$prop_name))
# number of unique contributions
unique_contributions <- Xfull %>% summarize(N=n()) %>% unlist()
# average contribution per Prop
avg.contr.per.prop = unique_contributions/length(unique_props)
# average amount per prop
avg.amount.per.prop = sum(X$amount, na.rm = T)/unique_contributions
#average size per prop
avg.size.per.prop = sum(X2$size, na.rm = T)/unique_contribut### data processing ions
# average amount per prop per contributor
avg.dollar.per.contr=avg.amount.per.prop/avg.contr.per.prop
## Prop 64
prop67 = X2[X2$number==67,]
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size, na.rm=T))
prop63 = X2[X2$number==63,]
prop63 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size, na.rm=T))
## Missing Data
colMeans(is.na(X2))  %>% round(5) * 100
#average size per prop
avg.size.per.prop = sum(X2$size, na.rm = T)/unique_contributions ### data processing ions
avg.amount.per.prop
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size, na.rm=T))
prop67
prop67 %>% group_by(job) %>% summarise(n())
prop67 %>% group_by(job) %>% summarise(n()) %>% arrange()
prop67 %>% group_by(job) %>% summarise(n()) %>% sort()
prop67 %>% group_by(job) %>% summarise(n()) %>% arrange(n())
prop67 %>% group_by(job) %>% summarise(n()) %>% arrange()
prop67 %>% group_by(job) %>% summarise(n()) %>% arrange(n())
prop67 %>% group_by(job) %>% summarise(n()) %>% arrange("n()")
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange()
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(N)
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(N, desc=T)
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(N, decreasing=R)
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(N, decreasing=T)
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% desc()
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% desc(arrange())
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(desc())
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(desc(N))
## top 10 jobs by gross contributions
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(desc(N)) %>% mutate("mean"=mean(amount))
## top 10 jobs by gross contributions
prop67top10contr = prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(desc(N)) %>% mutate("mean"=sum())
## top 10 jobs by gross contributions
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(desc(N)) %>% mutate("mean"=sum())
prop67 %>% group_by(job) %>% summarise(mean(amount))
prop67 %>% group_by(job) %>% summarise(mean(size))
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size), "contribs"=n())
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size), "contribs"=n(), amount=sum())
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size), "contribs"=n(), amount=sum(amount))
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size), "contribs"=n(), amount=sum(amount)) %>% arrange(desc(contribs, amount, avgsize))
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size, na.rm = T), "contribs"=n(), amount=sum(amount)) %>% arrange(desc(contribs, amount, avgsize))
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size, na.rm = T), "contribs"=n(), amount=sum(amount, na.rm=T)) %>% arrange(desc(contribs, amount, avgsize))
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size, na.rm = T), "contribs"=n(), amount=sum(amount, na.rm=T)) %>% arrange(desc(avgcontribution))
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size, na.rm = T), "contribs"=n(), amount=sum(amount, na.rm=T)) %>% arrange(desc("avgsize"))
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size, na.rm = T), "contribs"=n(), amount=sum(amount, na.rm=T)) %>% arrange(desc("avgsize"))
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size, na.rm = T), "contribs"=n(), amount=sum(amount, na.rm=T)) %>% arrange(desc(avgsize))
## SUPPORT
prop67 %>% select(stance=="OPPOSE")
## SUPPORT
prop67 %>% select(stance=="OPPOSE")
names(prop67)
## SUPPORT
prop67 %>% select(stance)
## SUPPORT
prop67 %>% group_by(stance)
## SUPPORT
prop67 %>% group_by(stance) %>% summarize("mean_amount"=mean())
## SUPPORT
prop67 %>% group_by(stance) %>% summarize("mean_amount"=mean(amount))
## SUPPORT
prop67 %>% group_by(stance) %>% summarize("mean_amount"=mean(amount, rm.na))
prop67
prop67$prop
## SUPPORT
prop67 %>% group_by(stance) %>% summarize("mean_amount"=mean(amount, rm.na))
## SUPPORT
prop67 %>% group_by(stance) %>% summarize("mean_amount"=mean(amount, na.rm = T))
## SUPPORT
prop67 %>% group_by(stance, amount > 0)
## SUPPORT
prop67 %>% group_by(stance, amount > 0) %>% summarize("mean_amount"=mean(amount, na.rm = T))
## SUPPORT
prop67 %>% group_by(stance, amount > 0, na.rm=T) %>% summarize("mean_amount"=mean(amount, na.rm = T))
## SUPPORT
prop67 %>% (amount > 0)
## SUPPORT
prop67 %>% subset(amount>0)
## SUPPORT
prop67 %>% subset(amount<0)
## SUPPORT
prop67 %>% subset(amount<0)
## SUPPORT
prop67 %>% subset(stance=="OPPOSE")
## SUPPORT
prop67 %>% subset(stance=="SUPPORT")
prop67 %>% subset(amount<0)
prop67 %>% subset(size<0)
X.amount<0
X.amount<0
X$amount<0
prop67$amount
prop67$amount<0
table(prop67$amount<0)
## SUPPORT
prop67 %>% subset(stance=="OPPOSE")
## X : full dataset
X = merge(committees, contributions, by = "calaccess_committee_id")
## X2 : modelling subset
X2 = data_frame("amount"=X$amount, "zip"=X$contributor_zip, "prop"=X$prop_name, "number"=X$ccdc_prop_id-19, "founder"=X$contributor_is_self_employed, "job"=X$contributor_occupation, "stance"=X$committee_position)
X2=X2 %>% mutate("size"=abs(amount))
## X2 : modelling subset
X2 = data_frame("amount"=X$amount, "zip"=X$contributor_zip, "prop"=X$prop_name, "number"=X$ccdc_prop_id-19, "founder"=X$contributor_is_self_employed, "job"=X$contributor_occupation, "stance"=X$committee_position, "size"=abs(amount))
### Prop 67
prop67 = X2[X2$number==67,]
prop67 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size, na.rm=T))
# top 10 jobs by gross contributions
prop67 %>% group_by(job) %>% summarise("N"=n()) %>% arrange(desc(N)) %>% mutate("mean"=sum())
# top 10 by avg contribution size
prop67 %>% group_by(job) %>% summarise("avgsize"=mean(size, na.rm = T), "contribs"=n(), amount=sum(amount, na.rm=T)) %>% arrange(desc(avgsize))
## SUPPORT
prop67 %>% subset(stance=="OPPOSE")
prop67 %>% subset(size<0)
## SUPPORT
prop67 %>% subset(stance=="OPPOSE")
prop67 %>% subset(size<0)
## SUPPORT
prop67 %>% subset(stance=="OPPOSE")
X[X$amount < 0 & X$committee_position == "OPPOSE"]
X[X$amount < 0 & X$committee_position == "OPPOSE",]
X[X$amount < 0 & X$committee_position == "OPPOSE",] %>% group_by(X$prop_name)
X[X$amount < 0 & X$committee_position == "OPPOSE",]
X[X$amount < 0 & X$committee_position == "OPPOSE",] %>% length()
X$prop_name[X$amount < 0 & X$committee_position == "OPPOSE",] %>% length()
X$prop_name[X$amount < 0 & X$committee_position == "OPPOSE",]
X[X$amount < 0 & X$committee_position == "OPPOSE","prop_name"]
## SUPPORT
prop67 %>% subset(stance=="OPPOSE")
X[X$amount < 0 & X$committee_position == "OPPOSE","prop_name"]
X[X$amount < 0 & X$committee_position == "OPPOSE","prop_name"] %>% length()
X[X$amount < 0,"prop_name"] %>% length()
X[X$amount < 0,"prop_name" && X$committee_position=="SUPPORT"] %>% length()
X[X$amount < 0 & X$committee_position=="SUPPORT",] %>% length()
## Paradox : How can the amount be negative but the committee supports the prop the contribution was made under?
X[X$amount < 0 & X$committee_position=="SUPPORT",] %>% length()
## Paradox : How can the amount be negative but the committee supports the prop the contribution was made under?
X[X$amount < 0 & X$committee_position=="SUPPORT",]
odd_obs %>% group_by(X$prop_name) %>% summarize(n())
## Paradox : How can the amount be negative but the committee supports the prop the contribution was made under?
odd_obs<- X[X$amount < 0 & X$committee_position=="SUPPORT",] %>% length()
odd_obs %>% group_by(X$prop_name) %>% summarize(n())
## Paradox : How can the amount be negative but the committee supports the prop the contribution was made under?
odd_obs<- X[X$amount < 0 & X$committee_position=="SUPPORT",] %>% length()
## Paradox : How can the amount be negative but the committee supports the prop the contribution was made under?
odd_obs <- X[X$amount < 0 & X$committee_position=="SUPPORT",]
odd_obs %>% group_by(X$prop_name) %>% summarize(n())
odd_obs %>% group_by(odd_obs$prop_name) %>% summarize(n())
indexsizena
prop67
prop67$amount == prop67$size
table(prop67$amount == prop67$size)
## SUPPORT
no_on_67 = prop67 %>% subset(stance=="OPPOSE")
yes_on_67 = prop67 %>% subset(stance=="SUPPORT")
yes_on_67
yes_on_67 %>% summarize(n())
no_on_67 %>% summarize(n())
no_on_67 %>% group_by(founder) %>% summarize(n())
yes_on_67 %>% group_by(founder) %>% summarize(n()) # all 27 that opposed were non founders
yes_on_67 %>% group_by(founder) %>% summarize(mean()() # all 27 that opposed were non founders
yes_on_67 %>% group_by(founder) %>% summarize(mean()) # all 27 that opposed were non founders
yes_on_67 %>% group_by(founder) %>% summarize(mean()) # all 27 that opposed were non founders
yes_on_67 %>% group_by(founder) %>% summarize(mean(n())) # all 27 that opposed were non founders
yes_on_67 %>% group_by(founder) %>% summarize(mean=n()/nrow(yes_on_67)) # all 27 that opposed were non founders
yes_on_67 %>% group_by(founder) %>% summarize(amount/sum(amount)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount, na.rm = T)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize("avg.contr.size"=sum(amount)/n, na.rm = T)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize("avg.contr.size"=sum(amount)/n, na.rm = T) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize("avg.contr.size"=sum(amount)/n(), na.rm = T) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(("avg.contr.size"=sum(amount)/n(), na.rm = T)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount)/n, na.rm = T)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount), na.rm = T)) # 88% were non founders
.
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount, na.rm = T)) # 88% were non founders
/)
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount/, na.rm = T)) # 88% were non founders
n())
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount, na.rm = T)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount, na.rm = )) # 88% were non founders
na.
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount, )) # 88% were non founders
r
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount,)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount)) # 88% were non founders
,
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount)) # 88% were non founders
,
yes_on_67 %>% group_by(founder) %>% summarize(sum(amount)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(amount) # 88% were non founders
mean(amount
yes_on_67 %>% group_by(founder) %>% summarize() # 88% were non founders
amount/)
nrow(yes_on_67
yes_on_67 %>% group_by(founder) %>% summarize(amount/nrow(yes_on_67)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(amount/nrow(yes_on_67)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(mean=n()/nrow(yes_on_67)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(sum(size)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize(sum(size,na.rm = T))
yes_on_67 %>% group_by(founder) %>% summarize(sum(size))
yes_on_67 %>% group_by(founder) %>% summarize(sum(size))
yes_on_67 %>% group_by(founder) %>% summarize(sum(size,na.rm=T))
yes_on_67 %>% group_by(founder) %>% summarize(sum(size,na.rm=T),n())
yes_on_67 %>% group_by(founder) %>% summarize("total"=sum(size,na.rm=T),"N"=n()) %>% mutate()
yes_on_67 %>% group_by(founder) %>% summarize("total"=sum(size,na.rm=T),"N"=n()) %>% mutate(total/N)
names(X)
yes_on_67 %>% summarize(n())
no_on_67 %>% summarize(n()) # 6252 voted in support of over-turning the ban
no_on_67 %>% group_by(founder) %>% summarize(n()) # all 27 that opposed were non founders
## SUPPORT
yes_on_67 = prop67 %>% subset(stance=="SUPPORT")
yes_on_67 %>% summarize(n()) # 6252 voted in support of over-turning the ban
yes_on_67 %>% group_by(founder) %>% summarize(mean=n()/nrow(yes_on_67)) # 88% were non founders
yes_on_67 %>% group_by(founder) %>% summarize("total"=sum(size,na.rm=T),"N"=n()) %>% mutate(total/N) # non founder supporters of prop 67 made contributions that were thrice as high on average.
## OPPOSE
no_on_67 = prop67 %>% subset(stance=="OPPOSE")
yes_on_67 %>% group_by(founder) %>% summarize("total"=sum(size,na.rm=T),"N"=n()) %>% mutate(total/N) # non founder supporters of prop 67 made contributions that were thrice as high on average.
no_on_67 %>% group_by(founder) %>% summarize("total"=sum(size,na.rm=T),"N"=n()) %>% mutate(total/N) # non founder supporters of prop 67 made contributions that were thrice as high on average.
no_on_67 %>% group_by(founder) %>% summarize("total"=sum(size,na.rm=T),"N"=n()) %>% mutate(total/N) # non founder supporters of prop 67 made contributions that were thrice as high on average.
yes_on_67 %>% summarize("total"=sum(size,na.rm=T),"N"=n()) %>% mutate(total/N) # non founder supporters of prop 67 made contributions that were thrice as high on average, $110 and ~$300.
99312/286
no_on_67 %>% summarize("total"=sum(size,na.rm=T),"N"=n()) %>% mutate(total/N) # contributions to oppose overturning the ban were on average over three hundred times higher.
## Paradox : How can the amount be negative but the committee supports the prop the contribution was made under?
odd_obs <- X[X$amount < 0 & X$committee_position=="SUPPORT",]
odd_obs
head(odd_obs)
ls
ls()
dir()
read_lines('Untitled-1')
ls()
dir()
## Paradox : How can the amount be negative but the committee supports the prop the contribution was made under?
odd_obs <- X[X$amount < 0 & X$committee_position=="SUPPORT",]
odd_obs
View(odd_obs)
"odd_obs$calaccess_filing_id", odd_obs$commi
odd_obs[c("odd_obs$calaccess_filing_id", "odd_obs$committee_position", "odd_obs$amount")]
odd_obs[c("odd_obs$calaccess_filing_id", "odd_obs$committee_position", "odd_obs$amount"),]
names(odd_obs)
odd_obs[c(1,18, 8),]
t(odd_obs[c(1,18, 8),])
t(odd_obs[c(1,18, 8),])[c(1)]
t(odd_obs[c(1,18, 8),])[1,]
t(odd_obs[c(1,18, 8),])[,1]
t(odd_obs[c(1,18, 8),])[1,1]
t(odd_obs[c(1,18, 8),])
t(odd_obs[c(1,18, 8),]) %>% head()
odd_obs
odd_obs %>% head()
odd_obs %>% head() %>% select(amount)
odd_obs %>% head() %>% select(amount, odd_obs$committee_position)
odd_obs %>% head() %>% select(amount, committee_position)
odd_obs %>% head() %>% select(amount, committee_position)
odd_obs
length(odd_obs)
# odd_obs per job
odd_obs %>% group_by(odd_obs$prop_name) %>% summarize(n()) ## prop 63 over-represented for with this issue.
# odd_obs per job
odd_obs %>% group_by(odd_obs$prop_name) %>% summarize(n()) ## prop 63 over-represented for with this issue.
odd_obs %>% group_by(odd_obs$prop_name) %>% summarize("N"=n()) %>% summarise(sum(N))
17/36
odd_obs %>% group_by(odd_obs$prop_name) %>% summarize("N"=n()) %>%  ggplot(aes(prop_name, N)
)
odd_obs %>% group_by(odd_obs$prop_name) %>% summarize("N"=n()) %>%  ggplot(aes(odd_obs$prop_name, N))
rlang::last_error()
odd_obs %>% group_by(odd_obs$prop_name) %>% ggplot(aes(n()))
odd_obs %>% group_by(odd_obs$prop_name)
odd_obs %>% group_by(odd_obs$prop_name) %>% ggplot(aes(amount))
odd_obs %>% group_by(odd_obs$prop_name) %>% ggplot(aes(x=committee_name.x))
odd_obs %>% group_by(odd_obs$prop_name) %>% ggplot(aes(x=n(), y=prop_name))
odd_obs %>% group_by(odd_obs$prop_name) %>% %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name))
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name))
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name)) + geom_bar
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name)) + geom_bar()
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name)) + geom_bar()
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name))
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name)) + geom_histogram()
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name)) + geom_col()
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name)) + geom_col()
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name))
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name)) + title("Test")
odd_obs %>% group_by(odd_obs$prop_name) %>% mutate(N=n()) %>% ggplot(aes(x=N, y=prop_name)) + title(main = "Outliers by Propositions")
ls
ls()
source("Loaddata.R")
### Prop 63
prop63 = X2[X2$number==63,]
prop63 %>% group_by(founder) %>% summarize("mean_size"=mean(size, na.rm=T), 'sum_size'=sum(size, na.rm=T))
X3 %>% group_by(job) %>% summarise(n()) # 16 obs, 10 of which are retired
X3 %>% group_by(number) %>% summarise(n())  # 14 obs, 14 of which are for prop 63. These are firearms amounts, why are so many of these missing?
X3 %>% group_by(job) %>% summarise(n()) # 16 obs, 10 of which are retired
X3 %>% group_by(number) %>% summarise(n())
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_point()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_histogram()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop.count)) + geom_histogram()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(N)) + geom_histogram()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(N)) + geom_col()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(N)) + geom_col()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(N, prop)) + geom_()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(N, prop)) + geom_col()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(N, prop)) + geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(N)) + geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(N)) + geom_count()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_count()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name=c("2","3"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="FireArms",limits-c("1","3"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="FireArms",limits=c("1","3"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",limits=c("63","Other"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",limits=c("63","Other"))
X3 %>% group_by(number) %>% summarise(n())
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",limits=c("63","67"))
X3 %>% group_by(job) %>% summarise(n()) # 16 obs, 10 of which are retired
X3 %>% group_by(number) %>% summarise(n())  # 14 obs, 14 of which are for prop 63. These are firearms amounts, why are so many of these missing?
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",limits=c("63","67"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_col() + scale_x_discrete(name="Proposition",limits=c("63","67"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",limits=c("63","67"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) + title(main="Frrequency of missing data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) + title(main="Frrequency of missing data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) + title(main="Frrequency of missing data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) + title(main="Frrequency of missing data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) + title(main="Frrequency of missing data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) + title(main="Frrequency of missing data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) + title(main = "Frrequency of missing data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) + title(main="Test")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) -> title(main"T")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) -> title(main="T")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) %>% title(main="T")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) -> p
p + title(main="Test")
quartz()
quartz()
p + title(main="Test")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) -> p
p + title(main="Test")
plot(X3)
plot(X3$amount)
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63","67")) -> p
p + title(main="Test")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + geom_bar() + scale_x_discrete(name="Proposition",limits=c("63","67"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63","67")) +  geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63","67")) +  geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63","67")) +  geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63","67")) + geom_bar()
X3
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63","67")) + geom_bar() + labs(title="Test")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + geom_bar() + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + geom_bar() + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition")
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + geom_bar() + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + geom_histogram() + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop)) + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + geom_bar() + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + geom_bar() + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + geom_col() + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
indexsizena = which(is.na(X2$amount))
# X3 : amount censored.
X3 = X2[indexsizena,]
X3 %>% group_by(job) %>% summarise(n()) # 16 obs, 10 of which are retired
X3 %>% group_by(number) %>% summarise(n())  # 14 obs, 14 of which are for prop 63. These are firearms amounts, why are so many of these missing?
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + geom_col() + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar() + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_boxplot() + scale_x_discrete(name="Proposition",limits=c("63 - Gun Control","67 - Plastic Bag Referendum")) + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_boxplot() + scale_x_discrete(name="Proposition",labels=c("63 - Gun Control","67 - Plastic Bag Referendum")) + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63 - Gun Control","67 - Plastic Bag Referendum")) + labs(title="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
?labs()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63 - Gun Control","67 - Plastic Bag Referendum")) + ggtitle(label ="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n())
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar() + scale_x_discrete(name="Proposition",labels=c("63 - Gun Control","67 - Plastic Bag Referendum"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar() + scale_x_discrete(name="Proposition",breaks=c("63 - Gun Control","67 - Plastic Bag Referendum")) + ggtitle(label ="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar() + scale_x_discrete(name="Proposition",breaks=c("63 - Gun Control","67 - Plastic Bag Referendum"))
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar()
X3 %>% group_by(number) %>% mutate("N"=n())
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar()
indexsizena = which(is.na(X2$amount))
# X3 : amount censored.
X3 = X2[indexsizena,]
X3 %>% group_by(job) %>% summarise(n()) # 16 obs, 10 of which are retired
X3 %>% group_by(number) %>% summarise(n())  # 14 obs, 14 of which are for prop 63. These are firearms amounts, why are so many of these missing?
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar() + scale_x_discrete(name="Proposition",breaks=c("63 - Gun Control","67 - Plastic Bag Referendum")) + ggtitle(label ="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
# X3 : amount censored.
X3 = X2[indexsizena,]
X3 %>% group_by(job) %>% summarise(n()) # 16 obs, 10 of which are retired
X3 %>% group_by(number) %>% summarise(n())  # 14 obs, 14 of which are for prop 63. These are firearms amounts, why are so many of these missing?
X3 %>% group_by(number) %>% mutate("N"=n()) %>% ggplot(aes(prop, N)) + geom_bar() + scale_x_discrete(name="Proposition",breaks=c("63 - Gun Control","67 - Plastic Bag Referendum")) + ggtitle(label ="Undisclosed Firearms donation amounts", subtitle = "Frequency of Missing Data grouped by Proposition") + theme_minimal()
